{"name":"Phonegap Touchpoint Reference","tagline":"","body":"PhoneGap Touchpoint for Reference Storefront\r\n============\r\nThis is a PhoneGap application to accompany <a href=\"https://github.elasticpath.net/cortex/ui-storefront\">Elastic Path's HTML5 Reference Storefront</a>.\r\n\r\nPrerequisites\r\n============\r\nThe PhoneGap application requires the following installed:\r\n\r\n* <a href=\"http://nodejs.org/\">NodeJS</a>\r\n\r\n######Android only:######\r\n\r\n* <a href=\"http://developer.android.com/sdk/index.html\">Android SDK</a>\r\n* <a href=\"http://ant.apache.org/\">Apache Ant</a>\r\n \r\nThe installed locations of the Android SDK and Apache Ant must also be in your PATH variable (adjust the precise directory paths below according to their installed locations):\r\n\r\nOn Windows, append the following to your PATH variable:\r\n```\r\n;C:\\Development\\adt-bundle\\sdk\\platform-tools;C:\\Development\\adt-bundle\\sdk\\tools;C:\\Development\\apache-ant\\bin\r\n```\r\nOn Mac, add the following line to your ~/.bash_profile file:\r\n```\r\nexport PATH=${PATH}:/Development/adt-bundle/sdk/platform-tools:/Development/adt-bundle/sdk/tools\r\n```\r\nBuilding the Apps\r\n=============\r\n\r\n1. Checkout the PhoneGap application source from <a href=\"https://github.elasticpath.net/cortex/phonegap-poc\">GitHub</a> to a local directory.\r\n2. **All further commands need to be executed at the command prompt while within this directory.**\r\n3. Install all required Node modules globally:\r\n<pre>\r\n<code>[sudo] npm install â€“g grunt-cli cordova phonegap</code>\r\n</pre>\r\n4. Install the required modules locally:\r\n<pre>\r\n<code>npm install</code>\r\n</pre>\r\n5. Delete any existing files (except .gitignore) from the ep-src folder and copy the latest <a href=\"https://github.elasticpath.net/cortex/ui-storefront\">HTML5 reference storefront code</a> into that folder.\r\n6. Ensure `/ep-src/public/ep.config.json` has the correct values for `cortexApi.path` and `cortexApi.scope`.\r\n7. **(Android)** Make the following file changes (where C:/Development/adt-bundle/sdk should be replaced with the path to your local Android SDK installation):\r\n<p><code>/ep-mobile/platforms/android/build.xml</code> (line 90)</p>\r\n<pre>\r\n<code>&lt;import file=\"C:/Development/adt-bundle/sdk/tools/ant/build.xml\" /&gt;</code>\r\n</pre>\r\n<hr/>\r\n<p><code>/ep-mobile/platforms/android/CordovaLib/build.xml</code> (line 90)</p>\r\n<pre>\r\n<code>&lt;import file=\"C:/Development/adt-bundle/sdk/tools/ant/build.xml\" /&gt;</code>\r\n</pre>\r\n<hr/>\r\n<p>`/ep-mobile/platforms/android/local.properties` (line 10)</p>\r\n<pre>\r\n<code>sdk.dir=C:/Development/adt-bundle/sdk</code>\r\n</pre>\r\n<hr/>\r\n<p>`/ep-mobile/platforms/android/CordovaLib/local.properties` (line 10)</p>\r\n<pre>\r\n<code>sdk.dir=C:/Development/adt-bundle/sdk</code>\r\n</pre>\r\n8. Run: \r\n<pre>\r\n<code>grunt dist</code>\r\n</pre>\r\nThis copies the latest code from the ep-src folder into the PhoneGap project.\r\n9. Build the app:\r\n<p>**Android**</p>\r\n<pre>\r\n<code>grunt build:android</code>\r\n</pre>\r\n<p>**iOS**</p>\r\n<pre>\r\n<code>grunt build:ios</code>\r\n</pre>\r\n\r\nRunning in an Emulator\r\n=============\r\n######Android######\r\nStart an [Android Virtual Device](http://developer.android.com/tools/help/emulator.html) and run:\r\n\r\n`grunt emulate:android`\r\n\r\n######iOS######\r\nRun the app with device simulators from Xcode using the project at `/ep-mobile/platforms/ios/HTML5 Storefront.xcodeproj`\r\n\r\n\r\nInstalling to a Device\r\n=============\r\n######Android######\r\nThe Android package file will be generated at `/ep-mobile/platforms/android/bin/ElasticPathMobile-debug.apk`\r\n######iOS######\r\nUsing the Xcode project at `/ep-mobile/platforms/ios/HTML5 Storefront.xcodeproj`, the iOS app can be deployed to a registered device using a valid Apple Developer provisioning profile, see [this article](https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/TestingYouriOSApp/TestingYouriOSApp.html) for further instructions.\r\nKnown Issues\r\n=============\r\n######Localized strings in the iOS simulator######\r\nSome localized strings do not not load when the iOS app is run in the iOS simulator. Instead, the tokens used to identify the strings will appear e.g. the profile link will display the text 'auth.profile' instead of 'Profile'.\r\nTroubleshooting\r\n=============\r\n######Missing store categories######\r\nIf the store categories do not appear in the menu, check that:\r\n\r\n1. the `INTEGRATOR_URL` variable in `Gruntfile.js` references a valid Cortex deployment\r\n2. the `cortexApi.path` and `cortexApi.scope` settings are correct in the `/ep-mobile/www/ep-config.json` JSON file that is generated during the build task\r\n\r\n<br/>\r\n######Building the apps with HTML5 Reference Storefront version 1.9 and earlier######\r\nIn order to work with these versions of the reference storefront, the following code change is required:\r\n\r\nIn `ui-storefront/public/ep.client.js`, the following line in the `ep.io.getApiContext` function:\r\n\r\n<pre>\r\n<code>retVal = '/' + config.cortexApi.path;</code>\r\n</pre>\r\n\r\nshould be replaced with:\r\n\r\n<pre>\r\n<code>if (/^http/.test(config.cortexApi.path)) {\r\n  retVal = config.cortexApi.path;\r\n} else {\r\n  retVal = '/' + config.cortexApi.path;\r\n}</code>\r\n</pre>\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}